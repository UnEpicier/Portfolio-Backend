// ---------------------------------------------------------------------------------------------------------------------
//!                                                       Imports
// ---------------------------------------------------------------------------------------------------------------------

// ----------------------------------------------------- Express -------------------------------------------------------
import express from 'express';
// ---------------------------------------------------------------------------------------------------------------------

// --------------------------------------------------- Middleware ------------------------------------------------------
import cors from 'cors';
import morgan from 'morgan';
// ---------------------------------------------------------------------------------------------------------------------

// ----------------------------------------------------- DotEnv --------------------------------------------------------
import dotenv from 'dotenv';
dotenv.config();
// ---------------------------------------------------------------------------------------------------------------------

// ---------------------------------------------- Package Informations -------------------------------------------------
import pck from '../package.json';
console.log(`App name: ${pck.name}`);
console.log(`App version: ${pck.version}`);
// ---------------------------------------------------------------------------------------------------------------------

const app = express();
app.use(cors());
app.use(morgan(process.env.NODE_ENV === 'production' ? 'combined' : 'dev'));
app.use(express.json());

app.listen(process.env.PORT ?? 3000, () => {
	console.log(`Server is running on port ${process.env.PORT}`);
});
